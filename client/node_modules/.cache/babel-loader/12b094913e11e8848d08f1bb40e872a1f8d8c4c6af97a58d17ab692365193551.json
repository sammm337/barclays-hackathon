{"ast":null,"code":"var _jsxFileName = \"/Users/samruddhishinde/Desktop/barclays/research-paper-analyzer/client/src/researchpaper.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"./components/ui/card\";\nimport { Button } from \"./components/ui/button\";\nimport { chatSession } from \"./utils/AiModel\";\nimport TextToSpeech from \"./components/TextToSpeech\";\nimport axios from \"axios\";\nimport \"ResearchPaperAnalyzer.css\";\nimport { BookOpen, FileText, UploadCloud, RefreshCw, Layers, PlusCircle, Book, BarChart4 } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResearchPaperAnalyzer = () => {\n  _s();\n  var _comparisonResults$fi;\n  const [file, setFile] = useState(null);\n  const [results, setResults] = useState([]);\n  const [papers, setPapers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [fetching, setFetching] = useState(false);\n  const [comparing, setComparing] = useState(false);\n  const [regenerationsLeft, setRegenerationsLeft] = useState(3);\n  const [paperText, setPaperText] = useState(\"\");\n  const [activeResultIndex, setActiveResultIndex] = useState(null);\n  const [showComparison, setShowComparison] = useState(false);\n  const [comparisonResults, setComparisonResults] = useState([]);\n  const [savedPapers, setSavedPapers] = useState([]);\n  const [showLearningPath, setShowLearningPath] = useState(false);\n  const [toasts, setToasts] = useState([]);\n  const fileInputRef = useRef(null);\n\n  // Custom toast function\n  const addToast = toast => {\n    setToasts(prev => [...prev, toast]);\n    setTimeout(() => {\n      setToasts(prev => prev.filter(t => t.id !== toast.id));\n    }, 3000);\n  };\n  const showToast = ({\n    title,\n    description,\n    variant\n  }) => {\n    addToast({\n      id: Date.now().toString(),\n      title,\n      description,\n      variant\n    });\n  };\n\n  // Extract text from uploaded file\n  const extractTextFromFile = async file => {\n    const formData = new FormData();\n    formData.append(\"pdf\", file);\n    const response = await fetch(\"http://127.0.0.1:5000/extract-pdf\", {\n      method: \"POST\",\n      body: formData\n    });\n    if (!response.ok) {\n      throw new Error(\"Failed to process the file\");\n    }\n    const data = await response.json();\n    return data.text;\n  };\n\n  // Analyze research paper and extract key topics\n  const analyzeResearchPaper = async text => {\n    setLoading(true);\n    try {\n      const prompt = `You are an AI researcher. Analyze the provided research paper text and return your findings in strictly valid JSON format:\n      {\n        \"Summary\": \"a concise summary of the paper\",\n        \"KeyPoints\": [\"key points or findings from the paper\"],\n        \"PaperAnalysis\": \"detailed analysis of the paper's contribution\",\n        \"Topics\": [\"Top 3-5 key topics extracted from the paper for further research\"]\n      }\n      Research Paper Text: ${text}\n      Ensure your response is ONLY the JSON object, with no additional text or markdown.`;\n      const response = await chatSession.sendMessage(prompt);\n      const resultText = await response.response.text();\n      const jsonMatch = resultText.match(/\\{[\\s\\S]*\\}/);\n      if (!jsonMatch) {\n        throw new Error(\"Invalid response format\");\n      }\n      const parsedResult = JSON.parse(jsonMatch[0]);\n      if (!parsedResult.Summary || !Array.isArray(parsedResult.KeyPoints) || !parsedResult.PaperAnalysis || !Array.isArray(parsedResult.Topics)) {\n        throw new Error(\"Invalid response structure\");\n      }\n\n      // Add the new result to the results array\n      const newResults = [...results, parsedResult];\n      setResults(newResults);\n\n      // Set the newest result as active\n      setActiveResultIndex(newResults.length - 1);\n\n      // Reset comparison view if it was active\n      setShowComparison(false);\n      fetchResearchPapers(parsedResult.Topics);\n    } catch (error) {\n      console.error(\"Error analyzing research paper:\", error);\n      showToast({\n        title: \"Analysis Error\",\n        description: \"An error occurred while analyzing the paper. Please try again.\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle initial submission\n  const handleSubmit = async () => {\n    if (!file) {\n      showToast({\n        title: \"No file selected\",\n        description: \"Please upload a research paper (PDF, Word, or TXT file)\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    try {\n      // Reset previous results when uploading a new file\n      setResults([]);\n      setRegenerationsLeft(3);\n      setActiveResultIndex(null);\n      setShowComparison(false);\n      setComparisonResults([]);\n      const extractedText = await extractTextFromFile(file);\n      setPaperText(extractedText);\n      await analyzeResearchPaper(extractedText);\n    } catch (error) {\n      console.error(\"Error extracting text:\", error);\n      showToast({\n        title: \"Processing Error\",\n        description: \"An error occurred while processing the file. Please try again.\",\n        variant: \"destructive\"\n      });\n    }\n  };\n\n  // Handle regeneration\n  const handleRegenerate = async () => {\n    if (regenerationsLeft <= 0) {\n      showToast({\n        title: \"Limit Reached\",\n        description: \"You have used all your regenerations.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    if (!paperText) {\n      showToast({\n        title: \"Missing Content\",\n        description: \"No paper text available for regeneration.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    setRegenerationsLeft(prev => prev - 1);\n    await analyzeResearchPaper(paperText);\n  };\n\n  // Toggle between analysis results\n  const toggleResult = index => {\n    setActiveResultIndex(index);\n    setShowComparison(false);\n  };\n\n  // Compare all analyses\n  const compareAnalyses = async () => {\n    if (results.length < 2) {\n      showToast({\n        title: \"Not Enough Analyses\",\n        description: \"Need at least 2 analyses to compare.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    setComparing(true);\n    try {\n      // Prepare the analyses for comparison\n      const analysesForComparison = results.map((result, index) => ({\n        id: index + 1,\n        summary: result.Summary,\n        keyPoints: result.KeyPoints,\n        topics: result.Topics\n      }));\n      const prompt = `Compare these ${results.length} analyses of the same research paper. Evaluate their relative quality, \n      focusing on comprehensiveness, accuracy of key points captured, and usefulness of extracted topics.\n      Return your analysis ONLY as a valid JSON object with this format:\n      [\n        {\n          \"criteria\": \"Comprehensiveness of Summary\",\n          \"ratings\": {${analysesForComparison.map(a => `\"${a.id}\": \"rating out of 10\"`).join(\", \")}},\n          \"notes\": \"Which analysis has the most comprehensive summary and why\"\n        },\n        {\n          \"criteria\": \"Quality of Key Points\",\n          \"ratings\": {${analysesForComparison.map(a => `\"${a.id}\": \"rating out of 10\"`).join(\", \")}},\n          \"notes\": \"Which analysis captured the most relevant key points\"\n        },\n        {\n          \"criteria\": \"Usefulness of Topics\",\n          \"ratings\": {${analysesForComparison.map(a => `\"${a.id}\": \"rating out of 10\"`).join(\", \")}},\n          \"notes\": \"Which analysis extracted the most useful research topics\"\n        },\n        {\n          \"criteria\": \"Overall Quality\",\n          \"ratings\": {${analysesForComparison.map(a => `\"${a.id}\": \"rating out of 10\"`).join(\", \")}},\n          \"notes\": \"Final assessment of which analysis is most accurate and useful overall\"\n        }\n      ]\n      \n      Here are the analyses to compare:\n      ${JSON.stringify(analysesForComparison)}`;\n      const response = await chatSession.sendMessage(prompt);\n      const resultText = await response.response.text();\n      const jsonMatch = resultText.match(/\\[[\\s\\S]*\\]/);\n      if (!jsonMatch) {\n        throw new Error(\"Invalid comparison format\");\n      }\n      const parsedComparison = JSON.parse(jsonMatch[0]);\n      setComparisonResults(parsedComparison);\n      setShowComparison(true);\n      setActiveResultIndex(null);\n    } catch (error) {\n      console.error(\"Error comparing analyses:\", error);\n      showToast({\n        title: \"Comparison Error\",\n        description: \"An error occurred while comparing the analyses. Please try again.\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setComparing(false);\n    }\n  };\n\n  // Fetch research papers from arXiv based on extracted topics\n  const fetchResearchPapers = async topics => {\n    if (topics.length === 0) {\n      showToast({\n        title: \"Search Error\",\n        description: \"No topics found for search.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    setFetching(true);\n    try {\n      const query = topics.slice(0, 3).join(\" OR \"); // Use the top 3 topics for search\n      const response = await axios.get(`https://export.arxiv.org/api/query?search_query=all:${encodeURIComponent(query)}&start=0&max_results=5`);\n      const parser = new DOMParser();\n      const xmlDoc = parser.parseFromString(response.data, \"text/xml\");\n      const entries = xmlDoc.getElementsByTagName(\"entry\");\n      const fetchedPapers = Array.from(entries).map(entry => ({\n        title: entry.getElementsByTagName(\"title\")[0].textContent,\n        summary: entry.getElementsByTagName(\"summary\")[0].textContent,\n        link: entry.getElementsByTagName(\"id\")[0].textContent\n      }));\n      setPapers(fetchedPapers);\n    } catch (error) {\n      console.error(\"Error fetching research papers:\", error);\n      showToast({\n        title: \"Fetch Error\",\n        description: \"Failed to fetch related research papers.\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setFetching(false);\n    }\n  };\n\n  // Combine all text for speech\n  const getCombinedText = result => {\n    return `Summary: ${result.Summary}. \n            Key Points: ${result.KeyPoints.join(\". \")}. \n            Paper Analysis: ${result.PaperAnalysis}`;\n  };\n\n  // Add paper to learning path\n  const addToLearningPath = paper => {\n    if (savedPapers.some(p => p.title === paper.title)) {\n      showToast({\n        title: \"Already Added\",\n        description: \"This paper is already in your learning path.\",\n        variant: \"default\"\n      });\n      return;\n    }\n    setSavedPapers([...savedPapers, paper]);\n    showToast({\n      title: \"Paper Added\",\n      description: \"Research paper added to your learning path!\",\n      variant: \"default\"\n    });\n  };\n\n  // Remove paper from learning path\n  const removeFromLearningPath = paperTitle => {\n    if (!paperTitle) return;\n    setSavedPapers(savedPapers.filter(p => p.title !== paperTitle));\n    showToast({\n      title: \"Paper Removed\",\n      description: \"Research paper removed from your learning path.\",\n      variant: \"default\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-black text-white mx-auto mt-20 px-4 py-10 relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-5 right-5 space-y-3 z-50\",\n      children: toasts.map(toast => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded shadow-lg transition transform hover:scale-105 ${toast.variant === \"destructive\" ? \"bg-red-600\" : \"bg-green-600\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          className: \"block\",\n          children: toast.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"block text-sm\",\n          children: toast.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this)]\n      }, toast.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"w-full max-w-5xl mx-auto shadow-2xl rounded-2xl overflow-hidden backdrop-blur-sm bg-gray-900/80 border border-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        className: \"bg-gray-800\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n            className: \"h-10 w-10 mr-3 text-indigo-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-3xl font-bold text-white\",\n            children: \"Research Pathfinder\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-gray-300 max-w-xl mx-auto\",\n          children: \"Upload a research paper to analyze its content, extract key topics, and discover related papers.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"p-8 space-y-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-800 p-6 rounded-xl border border-gray-700 hover:shadow-lg transition-all\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(FileText, {\n                className: \"h-5 w-5 text-indigo-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-white\",\n                children: \"Upload Your Research Paper\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-indigo-400 transition-all\",\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                ref: fileInputRef,\n                type: \"file\",\n                accept: \".pdf,.docx,.txt\",\n                onChange: e => {\n                  var _e$target$files;\n                  return setFile(((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null);\n                },\n                className: \"hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(UploadCloud, {\n                className: \"h-12 w-12 mx-auto text-gray-500 mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400 mb-2\",\n                children: file ? file.name : \"Drag and drop your file here or click to browse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Supported formats: PDF, Word, TXT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleSubmit,\n              disabled: loading,\n              className: \"w-full bg-indigo-600 hover:bg-indigo-700 text-white transition-all\",\n              children: loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                  className: \"h-4 w-4 animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 21\n                }, this), \"Analyzing...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Layers, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this), \"Analyze Paper & Find Related\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), savedPapers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-800 p-6 rounded-xl border border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mb-4 cursor-pointer select-none\",\n            onClick: () => setShowLearningPath(prev => !prev),\n            children: [/*#__PURE__*/_jsxDEV(Book, {\n              className: \"h-5 w-5 text-indigo-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-white\",\n              children: [\"Your Learning Path (\", savedPapers.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this), showLearningPath && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 mt-2\",\n            children: savedPapers.map((paper, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-900 p-4 rounded-lg shadow-sm border border-gray-700 relative flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-indigo-400\",\n                  children: paper.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: paper.link || \"#\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"text-xs text-indigo-400 hover:underline mt-1 inline-block\",\n                  children: \"View on arXiv\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"ghost\",\n                size: \"sm\",\n                className: \"text-gray-500 hover:text-red-500 p-1\",\n                onClick: () => removeFromLearningPath(paper.title),\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this), results.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleRegenerate,\n            disabled: loading || regenerationsLeft <= 0 || comparing,\n            className: \"bg-emerald-600 hover:bg-emerald-700 text-white transition-all\",\n            children: loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"h-4 w-4 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 21\n              }, this), \"Regenerating...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 21\n              }, this), \"Regenerate Analysis (\", regenerationsLeft, \" left)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this), results.length >= 2 && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: compareAnalyses,\n            disabled: comparing || loading,\n            className: \"bg-violet-600 hover:bg-violet-700 text-white transition-all\",\n            children: comparing ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"h-4 w-4 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 23\n              }, this), \"Comparing...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(BarChart4, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 23\n              }, this), \"Compare All Analyses\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 17\n          }, this), showComparison && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              setShowComparison(false);\n              setActiveResultIndex(results.length - 1);\n            },\n            variant: \"outline\",\n            className: \"border-gray-700 text-indigo-400 hover:bg-gray-800\",\n            children: \"Back to Individual View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 13\n        }, this), results.length > 0 && !showComparison && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Layers, {\n              className: \"h-5 w-5 text-indigo-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-white\",\n              children: \"Analysis Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2 mb-6\",\n            children: results.map((_, index) => /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => toggleResult(index),\n              variant: activeResultIndex === index ? \"default\" : \"outline\",\n              className: activeResultIndex === index ? \"bg-indigo-600 hover:bg-indigo-700 text-white\" : \"border-gray-700 text-indigo-400 hover:bg-gray-800\",\n              children: [\"Analysis \", index + 1, \" \", index === results.length - 1 ? \"(Latest)\" : \"\"]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 15\n          }, this), activeResultIndex !== null && results[activeResultIndex] && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6 rounded-xl overflow-hidden bg-gray-800 border border-gray-700 shadow-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 bg-gray-900\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-base font-semibold text-indigo-400 mb-2\",\n                children: \"Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-white leading-relaxed\",\n                children: results[activeResultIndex].Summary\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4 p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6 bg-gray-800 rounded-xl border border-gray-700 shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-base font-semibold text-indigo-400 mb-2\",\n                  children: \"Key Points\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-2\",\n                  children: results[activeResultIndex].KeyPoints.map((point, pointIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex gap-2 text-white\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-indigo-400 font-bold\",\n                      children: \"\\u2022\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 599,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: point\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 600,\n                      columnNumber: 29\n                    }, this)]\n                  }, pointIndex, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 598,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 596,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6 bg-gray-800 rounded-xl border border-gray-700 shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-base font-semibold text-indigo-400 mb-2\",\n                  children: \"Extracted Topics\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-2\",\n                  children: results[activeResultIndex].Topics.map((topic, topicIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex gap-2 text-white\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-indigo-400 font-bold\",\n                      children: \"\\u2022\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 611,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: topic\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 612,\n                      columnNumber: 29\n                    }, this)]\n                  }, topicIndex, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 610,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 608,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 bg-gray-800 rounded-xl border border-gray-700 shadow-sm mx-4 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-base font-semibold text-indigo-400 mb-2\",\n                children: \"Paper Analysis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-white whitespace-pre-line leading-relaxed\",\n                children: results[activeResultIndex].PaperAnalysis\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-6 pb-6 flex justify-end\",\n              children: /*#__PURE__*/_jsxDEV(TextToSpeech, {\n                text: getCombinedText(results[activeResultIndex])\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 13\n        }, this), showComparison && comparisonResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(BarChart4, {\n              className: \"h-5 w-5 text-indigo-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-white\",\n              children: \"Analysis Comparison\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto bg-gray-800 rounded-xl border border-gray-700 shadow-md\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full divide-y divide-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-900\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-3 px-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\",\n                    children: \"Criteria\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 646,\n                    columnNumber: 23\n                  }, this), results.map((_, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-3 px-4 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\",\n                    children: [\"Analysis \", index + 1]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 25\n                  }, this)), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-3 px-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\",\n                    children: \"Notes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 657,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"bg-gray-800 divide-y divide-gray-700\",\n                children: comparisonResults.map((comparison, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: index % 2 === 0 ? \"bg-gray-800\" : \"bg-gray-900\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-4 px-4 text-sm font-medium text-white\",\n                    children: comparison.criteria\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 25\n                  }, this), results.map((_, analysisIndex) => {\n                    var _String$match;\n                    const rating = comparison.ratings[analysisIndex + 1];\n                    const numericRating = typeof rating === \"number\" ? rating : parseFloat(((_String$match = String(rating).match(/\\d+(\\.\\d+)?/)) === null || _String$match === void 0 ? void 0 : _String$match[0]) || \"0\");\n                    let ratingColor = \"text-white\";\n                    if (numericRating >= 8) ratingColor = \"text-emerald-400 font-bold\";else if (numericRating >= 6) ratingColor = \"text-indigo-400\";else if (numericRating < 5) ratingColor = \"text-red-400\";\n                    return /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: `py-4 px-4 text-center ${ratingColor}`,\n                      children: rating\n                    }, analysisIndex, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 685,\n                      columnNumber: 29\n                    }, this);\n                  }), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-4 px-4 text-sm text-gray-400\",\n                    children: comparison.notes\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 690,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6 bg-gray-900 rounded-xl border border-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-indigo-400 mb-2\",\n              children: \"Recommendation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-white\",\n              children: [\"Based on the comparison,\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-indigo-400\",\n                children: [\"Analysis\", \" \", Object.entries(((_comparisonResults$fi = comparisonResults.find(c => c.criteria === \"Overall Quality\")) === null || _comparisonResults$fi === void 0 ? void 0 : _comparisonResults$fi.ratings) || {}).sort((a, b) => {\n                  var _String$match2, _String$match3;\n                  return (typeof b[1] === \"number\" ? b[1] : parseFloat(((_String$match2 = String(b[1]).match(/\\d+(\\.\\d+)?/)) === null || _String$match2 === void 0 ? void 0 : _String$match2[0]) || \"0\")) - (typeof a[1] === \"number\" ? a[1] : parseFloat(((_String$match3 = String(a[1]).match(/\\d+(\\.\\d+)?/)) === null || _String$match3 === void 0 ? void 0 : _String$match3[0]) || \"0\"));\n                }).map(([key]) => key)[0]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 19\n              }, this), \" \", \"appears to be the most accurate and comprehensive analysis.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 13\n        }, this), papers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n              className: \"h-5 w-5 text-indigo-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-white\",\n              children: \"Related Research Papers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-4\",\n            children: papers.map((paper, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 bg-gray-800 rounded-xl border border-gray-700 shadow-sm hover:shadow-md transition-all\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-bold text-indigo-400 mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: paper.link ? paper.link : undefined,\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    className: \"hover:underline\",\n                    children: paper.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 745,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 744,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => addToLearningPath(paper),\n                  size: \"sm\",\n                  className: \"bg-gray-700 hover:bg-gray-600 text-indigo-400 h-8\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                      className: \"h-3.5 w-3.5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 760,\n                      columnNumber: 27\n                    }, this), \"Add to Learning Path\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 759,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 754,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 743,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-400 mt-2 text-sm\",\n                children: paper.summary && paper.summary.length > 300 ? `${paper.summary.substring(0, 300)}...` : paper.summary\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 765,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 384,\n    columnNumber: 5\n  }, this);\n};\n_s(ResearchPaperAnalyzer, \"lx7PQ/fZkifttKsvtWiJae2UXMk=\");\n_c = ResearchPaperAnalyzer;\nexport default ResearchPaperAnalyzer;\nvar _c;\n$RefreshReg$(_c, \"ResearchPaperAnalyzer\");","map":{"version":3,"names":["React","useState","useRef","Card","CardHeader","CardTitle","CardContent","Button","chatSession","TextToSpeech","axios","BookOpen","FileText","UploadCloud","RefreshCw","Layers","PlusCircle","Book","BarChart4","jsxDEV","_jsxDEV","ResearchPaperAnalyzer","_s","_comparisonResults$fi","file","setFile","results","setResults","papers","setPapers","loading","setLoading","fetching","setFetching","comparing","setComparing","regenerationsLeft","setRegenerationsLeft","paperText","setPaperText","activeResultIndex","setActiveResultIndex","showComparison","setShowComparison","comparisonResults","setComparisonResults","savedPapers","setSavedPapers","showLearningPath","setShowLearningPath","toasts","setToasts","fileInputRef","addToast","toast","prev","setTimeout","filter","t","id","showToast","title","description","variant","Date","now","toString","extractTextFromFile","formData","FormData","append","response","fetch","method","body","ok","Error","data","json","text","analyzeResearchPaper","prompt","sendMessage","resultText","jsonMatch","match","parsedResult","JSON","parse","Summary","Array","isArray","KeyPoints","PaperAnalysis","Topics","newResults","length","fetchResearchPapers","error","console","handleSubmit","extractedText","handleRegenerate","toggleResult","index","compareAnalyses","analysesForComparison","map","result","summary","keyPoints","topics","a","join","stringify","parsedComparison","query","slice","get","encodeURIComponent","parser","DOMParser","xmlDoc","parseFromString","entries","getElementsByTagName","fetchedPapers","from","entry","textContent","link","getCombinedText","addToLearningPath","paper","some","p","removeFromLearningPath","paperTitle","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_fileInputRef$current","current","click","ref","type","accept","onChange","e","_e$target$files","target","files","name","disabled","href","rel","size","_","point","pointIndex","topic","topicIndex","comparison","criteria","analysisIndex","_String$match","rating","ratings","numericRating","parseFloat","String","ratingColor","notes","Object","find","c","sort","b","_String$match2","_String$match3","key","undefined","substring","_c","$RefreshReg$"],"sources":["/Users/samruddhishinde/Desktop/barclays/research-paper-analyzer/client/src/researchpaper.tsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"./components/ui/card\";\nimport { Button } from \"./components/ui/button\";\nimport { chatSession } from \"./utils/AiModel\";\nimport TextToSpeech from \"./components/TextToSpeech\";\nimport axios from \"axios\";\nimport \"ResearchPaperAnalyzer.css\";\nimport { \n  BookOpen, \n  FileText, \n  UploadCloud, \n  RefreshCw, \n  Layers, \n  Volume2, \n  PlusCircle, \n  Book, \n  BarChart4 \n} from \"lucide-react\";\n\ninterface ResearchPaperResult {\n  Summary: string;\n  KeyPoints: string[];\n  PaperAnalysis: string;\n  Topics: string[];\n}\n\ninterface ComparisonResult {\n  criteria: string;\n  ratings: { [key: number]: string | number };\n  notes: string;\n}\n\ninterface ResearchPaper {\n  title: string | null;\n  summary: string | null;\n  link: string | null;\n}\n\ninterface Toast {\n  id: string;\n  title: string;\n  description: string;\n  variant: \"destructive\" | \"default\";\n}\n\nconst ResearchPaperAnalyzer = () => {\n  const [file, setFile] = useState<File | null>(null);\n  const [results, setResults] = useState<ResearchPaperResult[]>([]);\n  const [papers, setPapers] = useState<ResearchPaper[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [fetching, setFetching] = useState(false);\n  const [comparing, setComparing] = useState(false);\n  const [regenerationsLeft, setRegenerationsLeft] = useState(3);\n  const [paperText, setPaperText] = useState<string>(\"\");\n  const [activeResultIndex, setActiveResultIndex] = useState<number | null>(null);\n  const [showComparison, setShowComparison] = useState(false);\n  const [comparisonResults, setComparisonResults] = useState<ComparisonResult[]>([]);\n  const [savedPapers, setSavedPapers] = useState<ResearchPaper[]>([]);\n  const [showLearningPath, setShowLearningPath] = useState(false);\n  const [toasts, setToasts] = useState<Toast[]>([]);\n\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // Custom toast function\n  const addToast = (toast: Toast) => {\n    setToasts((prev) => [...prev, toast]);\n    setTimeout(() => {\n      setToasts((prev) => prev.filter((t) => t.id !== toast.id));\n    }, 3000);\n  };\n\n  const showToast = ({\n    title,\n    description,\n    variant,\n  }: {\n    title: string;\n    description: string;\n    variant: \"destructive\" | \"default\";\n  }) => {\n    addToast({ id: Date.now().toString(), title, description, variant });\n  };\n\n  // Extract text from uploaded file\n  const extractTextFromFile = async (file: File): Promise<string> => {\n    const formData = new FormData();\n    formData.append(\"pdf\", file);\n\n    const response = await fetch(\"http://127.0.0.1:5000/extract-pdf\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Failed to process the file\");\n    }\n\n    const data = await response.json();\n    return data.text;\n  };\n\n  // Analyze research paper and extract key topics\n  const analyzeResearchPaper = async (text: string) => {\n    setLoading(true);\n    try {\n      const prompt = `You are an AI researcher. Analyze the provided research paper text and return your findings in strictly valid JSON format:\n      {\n        \"Summary\": \"a concise summary of the paper\",\n        \"KeyPoints\": [\"key points or findings from the paper\"],\n        \"PaperAnalysis\": \"detailed analysis of the paper's contribution\",\n        \"Topics\": [\"Top 3-5 key topics extracted from the paper for further research\"]\n      }\n      Research Paper Text: ${text}\n      Ensure your response is ONLY the JSON object, with no additional text or markdown.`;\n\n      const response = await chatSession.sendMessage(prompt);\n      const resultText = await response.response.text();\n\n      const jsonMatch = resultText.match(/\\{[\\s\\S]*\\}/);\n      if (!jsonMatch) {\n        throw new Error(\"Invalid response format\");\n      }\n\n      const parsedResult = JSON.parse(jsonMatch[0]);\n\n      if (\n        !parsedResult.Summary ||\n        !Array.isArray(parsedResult.KeyPoints) ||\n        !parsedResult.PaperAnalysis ||\n        !Array.isArray(parsedResult.Topics)\n      ) {\n        throw new Error(\"Invalid response structure\");\n      }\n\n      // Add the new result to the results array\n      const newResults = [...results, parsedResult];\n      setResults(newResults);\n\n      // Set the newest result as active\n      setActiveResultIndex(newResults.length - 1);\n\n      // Reset comparison view if it was active\n      setShowComparison(false);\n\n      fetchResearchPapers(parsedResult.Topics);\n    } catch (error) {\n      console.error(\"Error analyzing research paper:\", error);\n      showToast({\n        title: \"Analysis Error\",\n        description: \"An error occurred while analyzing the paper. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle initial submission\n  const handleSubmit = async () => {\n    if (!file) {\n      showToast({\n        title: \"No file selected\",\n        description: \"Please upload a research paper (PDF, Word, or TXT file)\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    try {\n      // Reset previous results when uploading a new file\n      setResults([]);\n      setRegenerationsLeft(3);\n      setActiveResultIndex(null);\n      setShowComparison(false);\n      setComparisonResults([]);\n\n      const extractedText = await extractTextFromFile(file);\n      setPaperText(extractedText);\n      await analyzeResearchPaper(extractedText);\n    } catch (error) {\n      console.error(\"Error extracting text:\", error);\n      showToast({\n        title: \"Processing Error\",\n        description: \"An error occurred while processing the file. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  // Handle regeneration\n  const handleRegenerate = async () => {\n    if (regenerationsLeft <= 0) {\n      showToast({\n        title: \"Limit Reached\",\n        description: \"You have used all your regenerations.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (!paperText) {\n      showToast({\n        title: \"Missing Content\",\n        description: \"No paper text available for regeneration.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setRegenerationsLeft((prev) => prev - 1);\n    await analyzeResearchPaper(paperText);\n  };\n\n  // Toggle between analysis results\n  const toggleResult = (index: number) => {\n    setActiveResultIndex(index);\n    setShowComparison(false);\n  };\n\n  // Compare all analyses\n  const compareAnalyses = async () => {\n    if (results.length < 2) {\n      showToast({\n        title: \"Not Enough Analyses\",\n        description: \"Need at least 2 analyses to compare.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setComparing(true);\n    try {\n      // Prepare the analyses for comparison\n      const analysesForComparison = results.map((result, index) => ({\n        id: index + 1,\n        summary: result.Summary,\n        keyPoints: result.KeyPoints,\n        topics: result.Topics,\n      }));\n\n      const prompt = `Compare these ${results.length} analyses of the same research paper. Evaluate their relative quality, \n      focusing on comprehensiveness, accuracy of key points captured, and usefulness of extracted topics.\n      Return your analysis ONLY as a valid JSON object with this format:\n      [\n        {\n          \"criteria\": \"Comprehensiveness of Summary\",\n          \"ratings\": {${analysesForComparison\n            .map((a) => `\"${a.id}\": \"rating out of 10\"`)\n            .join(\", \")}},\n          \"notes\": \"Which analysis has the most comprehensive summary and why\"\n        },\n        {\n          \"criteria\": \"Quality of Key Points\",\n          \"ratings\": {${analysesForComparison\n            .map((a) => `\"${a.id}\": \"rating out of 10\"`)\n            .join(\", \")}},\n          \"notes\": \"Which analysis captured the most relevant key points\"\n        },\n        {\n          \"criteria\": \"Usefulness of Topics\",\n          \"ratings\": {${analysesForComparison\n            .map((a) => `\"${a.id}\": \"rating out of 10\"`)\n            .join(\", \")}},\n          \"notes\": \"Which analysis extracted the most useful research topics\"\n        },\n        {\n          \"criteria\": \"Overall Quality\",\n          \"ratings\": {${analysesForComparison\n            .map((a) => `\"${a.id}\": \"rating out of 10\"`)\n            .join(\", \")}},\n          \"notes\": \"Final assessment of which analysis is most accurate and useful overall\"\n        }\n      ]\n      \n      Here are the analyses to compare:\n      ${JSON.stringify(analysesForComparison)}`;\n\n      const response = await chatSession.sendMessage(prompt);\n      const resultText = await response.response.text();\n\n      const jsonMatch = resultText.match(/\\[[\\s\\S]*\\]/);\n      if (!jsonMatch) {\n        throw new Error(\"Invalid comparison format\");\n      }\n\n      const parsedComparison = JSON.parse(jsonMatch[0]);\n      setComparisonResults(parsedComparison);\n      setShowComparison(true);\n      setActiveResultIndex(null);\n    } catch (error) {\n      console.error(\"Error comparing analyses:\", error);\n      showToast({\n        title: \"Comparison Error\",\n        description: \"An error occurred while comparing the analyses. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setComparing(false);\n    }\n  };\n\n  // Fetch research papers from arXiv based on extracted topics\n  const fetchResearchPapers = async (topics: string[]) => {\n    if (topics.length === 0) {\n      showToast({\n        title: \"Search Error\",\n        description: \"No topics found for search.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setFetching(true);\n    try {\n      const query = topics.slice(0, 3).join(\" OR \"); // Use the top 3 topics for search\n      const response = await axios.get(\n        `https://export.arxiv.org/api/query?search_query=all:${encodeURIComponent(\n          query\n        )}&start=0&max_results=5`\n      );\n\n      const parser = new DOMParser();\n      const xmlDoc = parser.parseFromString(response.data, \"text/xml\");\n      const entries = xmlDoc.getElementsByTagName(\"entry\");\n\n      const fetchedPapers = Array.from(entries).map((entry) => ({\n        title: entry.getElementsByTagName(\"title\")[0].textContent,\n        summary: entry.getElementsByTagName(\"summary\")[0].textContent,\n        link: entry.getElementsByTagName(\"id\")[0].textContent,\n      }));\n\n      setPapers(fetchedPapers);\n    } catch (error) {\n      console.error(\"Error fetching research papers:\", error);\n      showToast({\n        title: \"Fetch Error\",\n        description: \"Failed to fetch related research papers.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setFetching(false);\n    }\n  };\n\n  // Combine all text for speech\n  const getCombinedText = (result: ResearchPaperResult) => {\n    return `Summary: ${result.Summary}. \n            Key Points: ${result.KeyPoints.join(\". \")}. \n            Paper Analysis: ${result.PaperAnalysis}`;\n  };\n\n  // Add paper to learning path\n  const addToLearningPath = (paper: ResearchPaper) => {\n    if (savedPapers.some((p) => p.title === paper.title)) {\n      showToast({\n        title: \"Already Added\",\n        description: \"This paper is already in your learning path.\",\n        variant: \"default\",\n      });\n      return;\n    }\n\n    setSavedPapers([...savedPapers, paper]);\n    showToast({\n      title: \"Paper Added\",\n      description: \"Research paper added to your learning path!\",\n      variant: \"default\",\n    });\n  };\n\n  // Remove paper from learning path\n  const removeFromLearningPath = (paperTitle: string | null) => {\n    if (!paperTitle) return;\n\n    setSavedPapers(savedPapers.filter((p) => p.title !== paperTitle));\n    showToast({\n      title: \"Paper Removed\",\n      description: \"Research paper removed from your learning path.\",\n      variant: \"default\",\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black text-white mx-auto mt-20 px-4 py-10 relative\">\n      {/* Toast Container */}\n      <div className=\"fixed top-5 right-5 space-y-3 z-50\">\n        {toasts.map((toast) => (\n          <div\n            key={toast.id}\n            className={`p-4 rounded shadow-lg transition transform hover:scale-105 ${\n              toast.variant === \"destructive\" ? \"bg-red-600\" : \"bg-green-600\"\n            }`}\n          >\n            <strong className=\"block\">{toast.title}</strong>\n            <span className=\"block text-sm\">{toast.description}</span>\n          </div>\n        ))}\n      </div>\n\n      <Card className=\"w-full max-w-5xl mx-auto shadow-2xl rounded-2xl overflow-hidden backdrop-blur-sm bg-gray-900/80 border border-gray-700\">\n        <CardHeader className=\"bg-gray-800\">\n          <div className=\"flex items-center justify-center mb-4\">\n            <BookOpen className=\"h-10 w-10 mr-3 text-indigo-400\" />\n            <CardTitle className=\"text-3xl font-bold text-white\">Research Pathfinder</CardTitle>\n          </div>\n          <p className=\"text-center text-gray-300 max-w-xl mx-auto\">\n            Upload a research paper to analyze its content, extract key topics, and discover related papers.\n          </p>\n        </CardHeader>\n\n        <CardContent className=\"p-8 space-y-8\">\n          {/* Upload Section */}\n          <div className=\"bg-gray-800 p-6 rounded-xl border border-gray-700 hover:shadow-lg transition-all\">\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center gap-2\">\n                <FileText className=\"h-5 w-5 text-indigo-400\" />\n                <h3 className=\"text-lg font-semibold text-white\">Upload Your Research Paper</h3>\n              </div>\n\n              <div\n                className=\"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-indigo-400 transition-all\"\n                onClick={() => fileInputRef.current?.click()}\n              >\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\".pdf,.docx,.txt\"\n                  onChange={(e) => setFile(e.target.files?.[0] || null)}\n                  className=\"hidden\"\n                />\n                <UploadCloud className=\"h-12 w-12 mx-auto text-gray-500 mb-2\" />\n                <p className=\"text-gray-400 mb-2\">\n                  {file ? file.name : \"Drag and drop your file here or click to browse\"}\n                </p>\n                <p className=\"text-sm text-gray-500\">Supported formats: PDF, Word, TXT</p>\n              </div>\n\n              <Button\n                onClick={handleSubmit}\n                disabled={loading}\n                className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white transition-all\"\n              >\n                {loading ? (\n                  <span className=\"flex items-center gap-2\">\n                    <RefreshCw className=\"h-4 w-4 animate-spin\" />\n                    Analyzing...\n                  </span>\n                ) : (\n                  <span className=\"flex items-center gap-2\">\n                    <Layers className=\"h-4 w-4\" />\n                    Analyze Paper &amp; Find Related\n                  </span>\n                )}\n              </Button>\n            </div>\n          </div>\n\n          {/* Learning Path Section */}\n          {savedPapers.length > 0 && (\n            <div className=\"bg-gray-800 p-6 rounded-xl border border-gray-700\">\n              <div\n                className=\"flex items-center gap-2 mb-4 cursor-pointer select-none\"\n                onClick={() => setShowLearningPath((prev) => !prev)}\n              >\n                <Book className=\"h-5 w-5 text-indigo-400\" />\n                <h3 className=\"text-lg font-semibold text-white\">\n                  Your Learning Path ({savedPapers.length})\n                </h3>\n              </div>\n              {showLearningPath && (\n                <div className=\"space-y-3 mt-2\">\n                  {savedPapers.map((paper, index) => (\n                    <div\n                      key={index}\n                      className=\"bg-gray-900 p-4 rounded-lg shadow-sm border border-gray-700 relative flex justify-between items-center\"\n                    >\n                      <div>\n                        <h4 className=\"font-medium text-indigo-400\">{paper.title}</h4>\n                        <a\n                          href={paper.link || \"#\"}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-xs text-indigo-400 hover:underline mt-1 inline-block\"\n                        >\n                          View on arXiv\n                        </a>\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"text-gray-500 hover:text-red-500 p-1\"\n                        onClick={() => removeFromLearningPath(paper.title)}\n                      >\n                        &times;\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Action Buttons */}\n          {results.length > 0 && (\n            <div className=\"flex flex-wrap gap-2 mt-6\">\n              <Button\n                onClick={handleRegenerate}\n                disabled={loading || regenerationsLeft <= 0 || comparing}\n                className=\"bg-emerald-600 hover:bg-emerald-700 text-white transition-all\"\n              >\n                {loading ? (\n                  <span className=\"flex items-center gap-2\">\n                    <RefreshCw className=\"h-4 w-4 animate-spin\" />\n                    Regenerating...\n                  </span>\n                ) : (\n                  <span className=\"flex items-center gap-2\">\n                    <RefreshCw className=\"h-4 w-4\" />\n                    Regenerate Analysis ({regenerationsLeft} left)\n                  </span>\n                )}\n              </Button>\n\n              {results.length >= 2 && (\n                <Button\n                  onClick={compareAnalyses}\n                  disabled={comparing || loading}\n                  className=\"bg-violet-600 hover:bg-violet-700 text-white transition-all\"\n                >\n                  {comparing ? (\n                    <span className=\"flex items-center gap-2\">\n                      <RefreshCw className=\"h-4 w-4 animate-spin\" />\n                      Comparing...\n                    </span>\n                  ) : (\n                    <span className=\"flex items-center gap-2\">\n                      <BarChart4 className=\"h-4 w-4\" />\n                      Compare All Analyses\n                    </span>\n                  )}\n                </Button>\n              )}\n\n              {showComparison && (\n                <Button\n                  onClick={() => {\n                    setShowComparison(false);\n                    setActiveResultIndex(results.length - 1);\n                  }}\n                  variant=\"outline\"\n                  className=\"border-gray-700 text-indigo-400 hover:bg-gray-800\"\n                >\n                  Back to Individual View\n                </Button>\n              )}\n            </div>\n          )}\n\n          {/* Result Toggle and Display */}\n          {results.length > 0 && !showComparison && (\n            <div className=\"mt-6 space-y-6\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <Layers className=\"h-5 w-5 text-indigo-400\" />\n                <h3 className=\"text-lg font-semibold text-white\">Analysis Results</h3>\n              </div>\n\n              <div className=\"flex flex-wrap gap-2 mb-6\">\n                {results.map((_, index) => (\n                  <Button\n                    key={index}\n                    onClick={() => toggleResult(index)}\n                    variant={activeResultIndex === index ? \"default\" : \"outline\"}\n                    className={\n                      activeResultIndex === index\n                        ? \"bg-indigo-600 hover:bg-indigo-700 text-white\"\n                        : \"border-gray-700 text-indigo-400 hover:bg-gray-800\"\n                    }\n                  >\n                    Analysis {index + 1} {index === results.length - 1 ? \"(Latest)\" : \"\"}\n                  </Button>\n                ))}\n              </div>\n\n              {activeResultIndex !== null && results[activeResultIndex] && (\n                <div className=\"space-y-6 rounded-xl overflow-hidden bg-gray-800 border border-gray-700 shadow-md\">\n                  <div className=\"p-6 bg-gray-900\">\n                    <h3 className=\"text-base font-semibold text-indigo-400 mb-2\">Summary</h3>\n                    <p className=\"text-lg text-white leading-relaxed\">\n                      {results[activeResultIndex].Summary}\n                    </p>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 p-4\">\n                    <div className=\"p-6 bg-gray-800 rounded-xl border border-gray-700 shadow-sm\">\n                      <h3 className=\"text-base font-semibold text-indigo-400 mb-2\">Key Points</h3>\n                      <ul className=\"space-y-2\">\n                        {results[activeResultIndex].KeyPoints.map((point, pointIndex) => (\n                          <li key={pointIndex} className=\"flex gap-2 text-white\">\n                            <span className=\"text-indigo-400 font-bold\"></span>\n                            <span>{point}</span>\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n\n                    <div className=\"p-6 bg-gray-800 rounded-xl border border-gray-700 shadow-sm\">\n                      <h3 className=\"text-base font-semibold text-indigo-400 mb-2\">Extracted Topics</h3>\n                      <ul className=\"space-y-2\">\n                        {results[activeResultIndex].Topics.map((topic, topicIndex) => (\n                          <li key={topicIndex} className=\"flex gap-2 text-white\">\n                            <span className=\"text-indigo-400 font-bold\"></span>\n                            <span>{topic}</span>\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  </div>\n\n                  <div className=\"p-6 bg-gray-800 rounded-xl border border-gray-700 shadow-sm mx-4 mb-4\">\n                    <h3 className=\"text-base font-semibold text-indigo-400 mb-2\">Paper Analysis</h3>\n                    <p className=\"text-white whitespace-pre-line leading-relaxed\">\n                      {results[activeResultIndex].PaperAnalysis}\n                    </p>\n                  </div>\n\n                  <div className=\"px-6 pb-6 flex justify-end\">\n                    <TextToSpeech text={getCombinedText(results[activeResultIndex])} />\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Comparison View */}\n          {showComparison && comparisonResults.length > 0 && (\n            <div className=\"mt-6 space-y-6\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <BarChart4 className=\"h-5 w-5 text-indigo-400\" />\n                <h3 className=\"text-lg font-semibold text-white\">Analysis Comparison</h3>\n              </div>\n\n              <div className=\"overflow-x-auto bg-gray-800 rounded-xl border border-gray-700 shadow-md\">\n                <table className=\"min-w-full divide-y divide-gray-700\">\n                  <thead className=\"bg-gray-900\">\n                    <tr>\n                      <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                        Criteria\n                      </th>\n                      {results.map((_, index) => (\n                        <th\n                          key={index}\n                          className=\"py-3 px-4 text-center text-xs font-medium text-gray-400 uppercase tracking-wider\"\n                        >\n                          Analysis {index + 1}\n                        </th>\n                      ))}\n                      <th className=\"py-3 px-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                        Notes\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-gray-800 divide-y divide-gray-700\">\n                    {comparisonResults.map((comparison, index) => (\n                      <tr key={index} className={index % 2 === 0 ? \"bg-gray-800\" : \"bg-gray-900\"}>\n                        <td className=\"py-4 px-4 text-sm font-medium text-white\">\n                          {comparison.criteria}\n                        </td>\n                        {results.map((_, analysisIndex) => {\n                          const rating = comparison.ratings[analysisIndex + 1];\n                          const numericRating =\n                            typeof rating === \"number\"\n                              ? rating\n                              : parseFloat(\n                                  String(rating).match(/\\d+(\\.\\d+)?/)?.[0] || \"0\"\n                                );\n\n                          let ratingColor = \"text-white\";\n                          if (numericRating >= 8)\n                            ratingColor = \"text-emerald-400 font-bold\";\n                          else if (numericRating >= 6)\n                            ratingColor = \"text-indigo-400\";\n                          else if (numericRating < 5) ratingColor = \"text-red-400\";\n\n                          return (\n                            <td key={analysisIndex} className={`py-4 px-4 text-center ${ratingColor}`}>\n                              {rating}\n                            </td>\n                          );\n                        })}\n                        <td className=\"py-4 px-4 text-sm text-gray-400\">{comparison.notes}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n\n              <div className=\"p-6 bg-gray-900 rounded-xl border border-gray-700\">\n                <h4 className=\"font-semibold text-indigo-400 mb-2\">Recommendation</h4>\n                <p className=\"text-white\">\n                  Based on the comparison,{\" \"}\n                  <span className=\"font-bold text-indigo-400\">\n                    Analysis{\" \"}\n                    {Object.entries(\n                      comparisonResults.find(\n                        (c) => c.criteria === \"Overall Quality\"\n                      )?.ratings || {}\n                    )\n                      .sort(\n                        (a, b) =>\n                          (typeof b[1] === \"number\"\n                            ? b[1]\n                            : parseFloat(\n                                String(b[1]).match(/\\d+(\\.\\d+)?/)?.[0] || \"0\"\n                              )) -\n                          (typeof a[1] === \"number\"\n                            ? a[1]\n                            : parseFloat(\n                                String(a[1]).match(/\\d+(\\.\\d+)?/)?.[0] || \"0\"\n                              ))\n                      )\n                      .map(([key]) => key)[0]}\n                  </span>{\" \"}\n                  appears to be the most accurate and comprehensive analysis.\n                </p>\n              </div>\n            </div>\n          )}\n\n          {/* Display arXiv Papers */}\n          {papers.length > 0 && (\n            <div className=\"mt-6 space-y-4\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <BookOpen className=\"h-5 w-5 text-indigo-400\" />\n                <h3 className=\"text-lg font-semibold text-white\">Related Research Papers</h3>\n              </div>\n\n              <div className=\"grid grid-cols-1 gap-4\">\n                {papers.map((paper, index) => (\n                  <div\n                    key={index}\n                    className=\"p-6 bg-gray-800 rounded-xl border border-gray-700 shadow-sm hover:shadow-md transition-all\"\n                  >\n                    <div className=\"flex justify-between\">\n                      <h4 className=\"font-bold text-indigo-400 mb-2\">\n                        <a\n                          href={paper.link ? paper.link : undefined}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"hover:underline\"\n                        >\n                          {paper.title}\n                        </a>\n                      </h4>\n                      <Button\n                        onClick={() => addToLearningPath(paper)}\n                        size=\"sm\"\n                        className=\"bg-gray-700 hover:bg-gray-600 text-indigo-400 h-8\"\n                      >\n                        <span className=\"flex items-center gap-1\">\n                          <PlusCircle className=\"h-3.5 w-3.5\" />\n                          Add to Learning Path\n                        </span>\n                      </Button>\n                    </div>\n                    <p className=\"text-gray-400 mt-2 text-sm\">\n                      {paper.summary && paper.summary.length > 300\n                        ? `${paper.summary.substring(0, 300)}...`\n                        : paper.summary}\n                    </p>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default ResearchPaperAnalyzer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}